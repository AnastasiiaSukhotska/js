<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		.area{
			width: 800px;

		}
		.text{
			display: none;
		}

		.selected{
			display: flex;
		}

		table{
			border: 2px solid black;
		}
		td{
			width: 40px;
			height: 40px;
			border: 2px solid black;
			margin: 0;
			padding: 0;
		}
				.active-btn{
			background-color: red;
		}
		.chosen{
			background-color: red;
		}


	</style>
	<script>
		let oldSelected;
		let oldActiveButton;
		let activeButton;
		function addClass(e){
			if(!e.target.matches(".button")) return;
			activeButton=e.target;
			activeButton.classList.add("active-btn");
			let selector = e.target.dataset.target;
			document.querySelector(selector).classList.add("selected");
			if(oldSelected)document.querySelector(oldSelected).classList.remove("selected");
			if (oldActiveButton) oldActiveButton.classList.remove("active-btn");
			oldSelected=selector;
			oldActiveButton=activeButton;
		}

		document.addEventListener("DOMContentLoaded", function(e){
			document.querySelector('.button-area').addEventListener('click', addClass);
		});

		let table;
		let tr;
		let selectedTd;
		function checkCell(e){
			for(let row of table.rows){
				for (let cell of row.cells){
					if (cell !=e.target&&e.target.matches('td')){
						cell.classList.remove('chosen');
						e.target.classList.add('chosen');
						selectedTd=e.target;

					}
				}
			}
		}


		function moveTd(e){
                    
                    
				    if(e.key=="ArrowLeft" && (selectedTd.cellIndex>0)){
				    	selectedTd.classList.remove('chosen');
				    	selectedTd=table.rows[selectedTd.parentNode.rowIndex].cells[selectedTd.cellIndex-1];
				    	selectedTd.classList.add('chosen');

					}
					else if(e.key=="ArrowRight"&&selectedTd.cellIndex<tr.children.length-1){
						selectedTd.classList.remove('chosen');
						selectedTd=table.rows[selectedTd.parentNode.rowIndex].cells[selectedTd.cellIndex+1];
						selectedTd.classList.add('chosen');
					}
					else if(e.key=="ArrowUp"&&selectedTd.parentNode.rowIndex>0){
						selectedTd.classList.remove('chosen');
						selectedTd=table.rows[selectedTd.parentNode.rowIndex-1].cells[selectedTd.cellIndex];
						selectedTd.classList.add('chosen');					}
					else if(e.key=="ArrowDown"&&selectedTd.parentNode.rowIndex<table.rows.length-1){
						selectedTd.classList.remove('chosen');
						selectedTd=table.rows[selectedTd.parentNode.rowIndex+1].cells[selectedTd.cellIndex];
						selectedTd.classList.add('chosen');					
					}
								
		}

	
		document.addEventListener("DOMContentLoaded", function(e){
			table=document.querySelector(".table");
			tr=document.querySelector('tr');
			document.querySelector('.table').addEventListener('click', checkCell);
			document.addEventListener('keydown', moveTd);
		});

		
	</script>
</head>
<body>
<div class="area">
	<div class="button-area">
		<button class="button" data-target=".t1">one</button>
		<button class="button" data-target=".t2">two</button>
		<button class="button" data-target=".t3">three</button>
</div>
<div class="text-area">
	<div class="text t1">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Aliquam dolor rem excepturi maxime eum ipsa aspernatur, quod esse fuga quaerat, nobis ab doloremque omnis odit et similique consectetur sit architecto, sapiente eligendi illum id labore quasi, perspiciatis hic? Maiores, consequuntur?</div>
	<div class="text t2">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Eveniet illo, exercitationem maiores, tempore at enim voluptates quos non provident eius, repudiandae quisquam deserunt ad ex quis modi. Totam, libero? Modi!</div>
	<div class="text t3">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Reiciendis, sunt! Magnam iure labore veniam deleniti quas optio eos aspernatur eaque ipsa aliquam quo suscipit consectetur perferendis, qui sapiente fugiat quidem obcaecati blanditiis. Animi fugiat modi, veritatis mollitia enim corrupti quisquam.</div>
	</div>
</div>	
	<div>
		<table class="table">
			<tbody>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				    <td></td>
				</tr>
				<tr>
				    <td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
				<tr>
					<td></td>
				    <td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>	
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>		
			</tbody>
		</table>
	</div>
</div>
</body>
</html>